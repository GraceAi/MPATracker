<ng-template #popContent>1. Click <b>Add New Requester Department</b> button to create a new requester department.
<br>2. Click <b><i class="fa fa-trash" aria-hidden="true"></i></b> in requester department table to delete a requester department. </ng-template>

<div class="page-title sub-navbar">Requester Departments
    <i class="fa fa-question-circle" placement="right" [ngbPopover]="popContent" popoverClass="my-popover-class" autoClose="true" container="body"></i>
</div>

<div class = "container">
  <div class="table-container mat-elevation-z8">
    <table mat-table [dataSource]="reqDeptDataSource" matSort>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Requester Department Name </th>
        <td mat-cell *matCellDef="let element">{{element.deptmt_name}}</td>
      </ng-container>

      <ng-container matColumnDef="visibility">
        <th mat-header-cell *matHeaderCellDef mat-sort-header title="Indicates whether users can see requests from their own departments">Requests Visibility </th>
        <td mat-cell *matCellDef="let element">{{element.deptmt_visibility}}</td>
      </ng-container>

      <ng-container matColumnDef="user">
        <th mat-header-cell *matHeaderCellDef mat-sort-header title="All Users in the department"> Users </th>
        <td mat-cell *matCellDef="let element">{{element.str_users}}</td>
      </ng-container>

      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let element" (click) = "editReqDept(element)"><i class="fa fa-pencil" aria-hidden="true" style="font-size:18px;"
          title="Edit Requester Department"></i></td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let element" (click) = "deleteReqDept(element)"><i class="fa fa-trash" aria-hidden="true" style="font-size:18px;"
          title="Delete Requester Department"></i></td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: columns;" class="element-row"></tr>
    </table>
  </div>

  <div class="right-div">
    <button type="button" class="btn btn-secondary" (click)="openAddReqDeptDialog()" title="Add new requester department"><i class="fa fa-plus-circle"></i>Add New Requester Dept</button>
  </div>
</div>
